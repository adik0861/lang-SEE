<!doctype html>
<meta charset=utf8>
<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
    <!--    <link href = "/assets/app.css" rel = "stylesheet">-->
    <link href="static/app.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.7/dist/css/autoComplete.min.css">
    <link rel='font' href="https://fonts.googleapis.com/css?family=Open+Sans,Baloo+2">
    <style>
        .cm-editor {
            height: 300px;
            border: 1px solid #ddd
        }

        .cm-scroller {
            overflow: auto;
        }
    </style>
    <title>Plum</title>

</head>


<body class="container text-light" style="background: transparent">
<nav class="navbar text-grey">
    <a class="navbar-brand " href="#">
        <img src="static/logo/logo.svg"
             height="70"
             class="d-inline-block align-top logo-color img-responsive"
             alt="Plum">
        <div class="vl"></div>
        Structured
        English Editor
    </a>
</nav>


<div id="editor"></div>

<script type=module src="_m/demo.js"></script>


<script>
    // let editor = document.querySelector('#editor');
    // localStorage.setItem('text', '')
    let editor
    window.addEventListener('DOMContentLoaded', function () {
        editor = document.querySelector('#editor > div > div.cm-scroller > div.cm-content')
        editor.addEventListener("input", () => {
            const text = editor.innerHTML;
            localStorage.setItem("text", text);
            console.log(localStorage.getItem("text"))
        });
        window.onload = () => {
            if (editor != null) {
                editor.innerHTML = localStorage.getItem("text") || "";
            }
        };
    });


</script>
